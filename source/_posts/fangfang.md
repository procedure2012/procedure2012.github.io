---
title: 到底什么人写日记？
date: 2020-04-22 23:20:32
categories: 
	- [科普]
	- [随笔]
tags: 技术
---

>要论中国人，必须不被搽在表面的自欺欺人的脂粉所诓骗，却看看他的筋骨和脊梁。自信力的有无，状元宰相的文章是不足为据的，要自己去看地底下。
鲁迅

前一段时间方方日记闹的沸沸扬扬，一边说是反华走狗，一边说是文革余孽。但我肯定，跟风说这件事的人，一大半都没有全部看完过方方日记。总字数有12万+，没有视频，没有图片，没有段子，我真就不信习惯了刷微博的人能耐心看完这么多字，有时间看完这么多字。就为了能玩梗？我一直很好奇方方到底写了什么，但是自己又实在没有心思去看，所以就开始整活了：利用无监督学习的文本分析分析了一下方方日记。一来节省时间，二来学习过程不加入人的经验和知识，只基于给出的客观数据。希望能够提供一个足够客观的视角。所有程序、语料数据以及训练好的模型都上传到了我的[Github页面](https://github.com/procedure2012/fangfangDiary)。

## 背景语料

60篇方方日记记录的时间为1月25日到3月24日，为了能有一个比对的标准，我首先收集了1月23日到3月25日期间11家**中文**媒体一共3418篇文章作为背景语料库，总计1739523词（不包括停用词）。这些媒体是：人民网（人民日报），新华网（新华社），环球网（环球时报），观察者网，文汇网（文汇报），中国日报，俄罗斯卫星通讯社（RT电视台同一个公司），BBC中文，德国之声中文频道，华尔街日报中文版，纽约时报中文版。

||人民网|新华网|环球网|观察者网|文汇网|中国日报|总计|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|文章数量|158|244|283|188|170|203|1246|
|分词后词数|84226|144543|163255|72727|97046|96739|658536|

||卫星通讯社|BBC|德国之声|华尔街日报|纽约时报|总计|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|文章数量|317|244|493|687|431|2172|
|分词后词数|29754|143680|282677|284489|340387|1080987|

方方日记描述的是武汉封城期间的事情，背景新闻我也希望尽可能集中在武汉。国内媒体的网站实在做得太差了，所以是通过google搜索关键词`武汉 疫情 site:网站地址`获得的。国外媒体是直接在媒体官网上搜索`中国 疫情`获得的。国内媒体虽然数量多，但是限制稍微严格必须和武汉有关，导致文章内容比较少。综合起来，反倒是国外媒体的新闻数量多于国内媒体。但是因为差距并没有特别悬殊，训练的模型都是以文章为基本单位，并且没有做情感分析之类的存在偏向性的分析。所以没有刻意平衡各个媒体的数量。

## LDA主题分析

LDA是一个基于概率的模型，它认为每篇文章是由不同的主题按照概率组合在一起的，并且能给每个主题一组词语来描述它。我经过了多次测试，把主题数定在7。主题太少区别不够明显，主题太多又不够直观，而且7个主题得到了一个非常清晰的结果。

### 背景主题

以下给出7个主题的代表词。可以看出这7个主题互相区别还是挺大的，基本没有共同的词语。而且在topic1中的“华南海鲜市场”、“蝙蝠”，都是当时的热点猜测。topic4中的“钻石公主号”、“大邱”、“奥运会”，是当时的热点新闻。还包括“美联储”“关税”“驱逐”这些热点新闻里的词语。说明这个分类涵盖了一段时间内的各个主要热点。

|Topic1|Topic2|Topic3|Topic4|Topic5|Topic6|Topic7|
|--|--|--|--|--|--|--|
|传播      |特朗普    |医院|小区|公司|防控|复工|
|流感      |媒体      |方舱医院|宿舍|经济|物资|复产|
|疾病      |美国      |志愿者|村|工厂|捐赠|亿元|
|研究      |台湾      |去|意大利|下跌|人民|发行|
|传人      |政治      |患者|确诊|美元|总书记|无|
|动物      |文章      |收治|日本|汽车|抗击|码|
|专家      |批评      |病人|号|投资者|打赢|有序|
|症状      |领导人    |社区|乘客|指数|群众|通告|
|冠状病毒   |中共     |护士|伊朗|亿美元|阻击战|指挥部|
|传染      |中国政府  |床位|邮轮|增长|湖北|开学|
|李文亮     |危机     |医疗队|死亡|上涨|党中央|券商|
|科学家     |西方     |妈妈|韩国|月份|保卫战|防控|
|传染病     |总统     |吃|该国|影响|万元|温州|
|华南海鲜市场|指责     |发热|入境|美联储|保障|万亿元|
|感染者     |评论     |电话|周日|预期|捐款|证监会|
|实验室     |驱逐     |医护人员|钻石公主号|生产|工作|重点|
|疫苗       |外国     |院长 |穿上|市场|一线|加快|
|死亡率     |世界     |孩子    |东京|供应链|指导组|中证报|
|医生       |政府     |母亲    |新增|经济学家|众志成城|债|
|新型冠状病毒|中国外交部|家里   |花园|国债|慈善|融资|
|蝙蝠       |习近平    |门诊   |病毒检测|跌幅|干部|证券时报|
|野生动物   |言论      |记者   |周六|收益率|工作者|申报|
|海鲜       |写道      |病区   |阅读|收入|支援|监狱|
|传染性     |人权      |父母   |大邱|制造业|胜|上证|
|肺炎       |权力      |病房   |累计|分析师|同舟共济|新增|
|确认       |外交      |张     |周四|产品|部署|管理|
|检测       |体制      |穿     |奥运会|关税|力量|绿码|
|流行病学   |民主      |定点医院|回国|涨幅|考察|企业|
|公共卫生   |反对      |同事    |周三|股市|胜则|贷款|
|戴        |中国病毒   |没      |街|放缓|基金会|降准|

再进一步，topic1是和新冠病毒有关的信息，topic2是关于政治的新闻，topic3是民间视角的疫情状况，topic4是疫情在国际范围的发展，topic5是关于国际经济的信息，topic6是中国官方视角的疫情状况，topic7是国内经济的信息。

<a href="https://imgur.com/e6rBpql.png"><img src="https://i.imgur.com/e6rBpql.png" title="主题分布（降维后）" /></a>

从可视化后的主题分布来看，上半区是经济，下半区是政治，左半区是国际，右半区是国内。7靠近左侧是因为经济全球化，6在中间是因为官方要同时应对政治和经济，1、2、4交缠在一起，因为国际舆论往往把疫情起源和传播与中国政府放在一起讨论。这个主题划分结果非常明确而且能够很好的拟合现实，所以采用了这个结果。完整的结果在[这里](/demo/lda_7.html)可以看到。

>简单说明一下[结果](/demo/lda_7.html)里的图例。圆圈面积表示话题出现的概率，右侧的λ是一个权值，λ越大越看重每个词在topic里面出现的概率，越小表示不仅考虑每个词在topic里出现的概率，更考虑这个词总的出现概率。比如“的”可能在每个topic里出现概率都很高，可是因为“的”到处都是，所以不能作为代表词。λ根据经验在0.2~0.4比较好，我选的0.29.

### 文章的主题分布

在确定了所有主题之后，我们就要开始对比各个媒体的文章在各个主题上的分布（我爬了这么多数据，不好好分析一下我好亏啊）。我下面表格里标出来各个媒体的最关注和最不关注的主题，以及方方日记里的主题分布。考虑这几个媒体的立场，LDA模型的拟合还是很不错的几乎和预料中的一致。有几个我很关注的点，首先topic2关注度最高的居然不是美国媒体，而是德国之声……而且，topic2在国内媒体上也有高的关注度，尤其是关注国际新闻的环球网和观察者网。

> 这里topic2虽然出现了很多争议性的词语，但是并不能说明这个主题就一定是负面主题。因为只考虑了词语分布，完全没有考虑语义。而且这其实是一个包含范围很广的主题，涉及国际舆论上的各种争论。所以国内和国外的媒体都有涉及也不奇怪。

||topic1|topic2|topic3|topic4|topic5|topic6|topic7|
|--|--|--|--|--|--|--|--|
|人民网|14.0%| 3.0%| 27.4%| **0.2%**| 17.4%| **36.5%**| 1.5%|
|新华网|6.2%| 3.7%| 27.5%| **1.6%**| 17.8%| **37.9%**| 5.2%|
|环球网|8.1%| 12.6%| **24.7%**| **1.6%**| 19.8%| 21.0%| 12.0%|
|观察者网|4.4%| 13.5%| 20.2%| **1.3%**| **27.3%**| 23.9%| 9.1%|
|文汇网|2.4%| 16.1%| **43.1%**| **0.9%**| 11.1%| 18.7%| 7.7%|
|中国日报|2.1%| 4.7%| **40.1%**| **1.4%**| 10.6%| 36.0%| 5.0%|
|卫星通讯社|**35.2%**| 11.0%| **2.2%**| 11.4%| 8.0%| 11.1%| 20.2%|
|BBC|16.8%| 23.6%| 6.2%| 11.5%| 4.3%| **2.4%**| **35.1%**|
|德国之声|19.9%| 29.5%| 5.8%| 10.7%| 2.2%| **1.6%**| **30.1%**|
|华尔街日报|14.3%| 7.0%| 1.4%| **61.6%**| 9.6%| **0.7%**| 5.2%|
|纽约时报|**23.2%**| 22.3%| 8.6%| 9.0%| **0.5%**| 1.1%| 35.4%|
|**方方日记**|**0.06%**| 11.7%| **69.4%**| 0.3%| 2.1%| 0.4%| 15.9%|

我们来看方方日记在这里的分布。日记里最关注的主题是topic3和topic7，一个是民间视角的武汉疫情状况，一个是复工复产开学等经济、社会活动。和方方武汉市民的身份非常相符。然后topic2和topic6的关注度足以说明日记并不是以一个国内主流角度来看待武汉的方方面面的，这也说明了为什么会在微博上引发这么大的争议。对比其他媒体在这两个topic上的关注度，也可以理解为什么会在国际上引发关注。这些也都和我们观察到的实际情况相符合。日记对于topic1，病毒本身的情况，topic4，病毒的传播似乎涉及的不多，这可能也就是为什么总有人在质疑方方日记中各种各样的说法是否正确的原因之一。

> 我稍微补充一下最后一句话的意思。考虑一个场景，一个潜伏期长传染性高致死率高的新型病毒A出现在了B市。上帝视角以最优策略应对病毒，需要社区传染开始以后的第3天才能发现A人传人的特性，至少要死2000人。B市在社区传染开始的第7天内发现了A人传人的特性，最终死亡2001人。B市以前经历的最严重的传染病无症状时不传染，立刻发现人传人，且只死亡200人。不考虑病毒特性，B市简直糟糕透顶。但是以上帝视角考虑病毒特性就知道B市的应对简直是人类之光。所以完全不考虑病毒本身就去判断决策正确性有失偏颇。

## Doc2Vec文章相似度

以上的LDA是基于词袋，就是认为一篇文章就是一个装满了各种词语的袋子，不考虑词语上下文。但很多时候上下文非常重要。举个例子：
```sh
我送你一朵新西兰花
```
```sh
这可是今天刚上货的新西兰花
```
因为同义词的存在，上下文导致语义不同，第二个文档和其他与蔬菜有关的更相似，第一个和其他鲜花有关的更相似。所以Doc2Vec可以基于所有语料进行学习，然后在考虑上下文的情况下将每篇文章映射到一个向量空间。文档相似度就是向量空间里的距离。

然后我们看看方方日记和哪些文章最相似。

|相似|文本|
|:--:|:--:|
|[德国之声 武汉日记：长歌当哭](https://www.dw.com/zh/%E6%AD%A6%E6%B1%89%E6%97%A5%E8%AE%B0%E9%95%BF%E6%AD%8C%E5%BD%93%E5%93%AD/a-52431933)|[文汇网 专访六六：我拒绝的，和我想写的](http://wenhui.whb.cn/zhuzhan/xinwen/20200309/331724.html)|
|[纽约时报 方方的武汉日记和一场政治风暴](https://cn.nytimes.com/china/20200415/coronavirus-china-fang-fang-author/)|[新华网 武汉民警一线抗疫日记：为他们平安，我们愿逆行而上](http://www.xinhuanet.com/politics/2020-01/31/c_1125515295.htm)|
|[环球网 疫情下的武汉人：珍惜“梗朋友”，不爱“阴倒搞”](https://society.huanqiu.com/article/9CaKrnKpON5)|[德国之声 长平观察：李文亮微博—“中国哭墙”下的抗议](https://www.dw.com/zh/%E9%95%BF%E5%B9%B3%E8%A7%82%E5%AF%9F%E6%9D%8E%E6%96%87%E4%BA%AE%E5%BE%AE%E5%8D%9A%E4%B8%AD%E5%9B%BD%E5%93%AD%E5%A2%99%E4%B8%8B%E7%9A%84%E6%8A%97%E8%AE%AE/a-52862102)|
|[德国之声 还要有多少李文亮才会让哨声嘹亮？](https://www.dw.com/zh/%E8%BF%98%E8%A6%81%E6%9C%89%E5%A4%9A%E5%B0%91%E6%9D%8E%E6%96%87%E4%BA%AE%E6%89%8D%E4%BC%9A%E8%AE%A9%E5%93%A8%E5%A3%B0%E5%98%B9%E4%BA%AE/a-52295308)|[环球网 原创条漫“自述”武汉 宛若“人在画中游”](https://cul.huanqiu.com/article/3xHQy52DrG1)|
|[德国之声 武汉日记：元宵节](https://www.dw.com/zh/%E6%AD%A6%E6%B1%89%E6%97%A5%E8%AE%B0%E5%85%83%E5%AE%B5%E8%8A%82/a-52311158)|[德国之声 武汉日记：度日如年](https://www.dw.com/zh/%E6%AD%A6%E6%B1%89%E6%97%A5%E8%AE%B0%E5%BA%A6%E6%97%A5%E5%A6%82%E5%B9%B4/a-52498004)|
|[纽约时报 “吹哨者”李文亮之死引众怒，中国网民发起反抗](https://cn.nytimes.com/china/20200208/china-coronavirus-doctor-death/)|[德国之声 暴力防疫引众怒 网友：回到红卫兵时代](https://www.dw.com/zh/%E6%9A%B4%E5%8A%9B%E9%98%B2%E7%96%AB%E5%BC%95%E4%BC%97%E6%80%92-%E7%BD%91%E5%8F%8B%E5%9B%9E%E5%88%B0%E7%BA%A2%E5%8D%AB%E5%85%B5%E6%97%B6%E4%BB%A3/a-52409071)|

以上列出的是和方方日记最相近的10篇文章。总所周知，前十有十二个。其实是，因为有随机因子的存在，每次doc2vec学到的模型不一样，这个模型又不能想LDA一样靠可视化确定哪个更好，所以我就把结果综合上来了。结果还是挺集中的，试了好多模型只出了十二篇文章，可以看出模型还是很不错的。十二篇文章里有几个关键词：“李文亮”，表示对政府的批评；“日记”，和方方武汉日记对应；“六六”，同样是作家，对应方方作家的身份；“武汉”，对应方方武汉市民的视角。这些综合起来，既能拟合方方的身份，又和上面主题分析出来的结果一致。而且这个结果结合最近方方日记要在德国出版，拟合完美。

## 日记摘要

最后，我利用TextRank算法，找出来方方日记的关键词、总体摘要，以及60篇日记分别的摘要。没兴趣看12万+原版，又特别感兴趣的可以去看摘要版。所有摘要和关键词也都是通过机器找出来的，所以会有语句不通的情况，但是也可以保证不存在人为的断章取义。摘要在[这里](https://github.com/procedure2012/fangfangDiary/blob/master/data/fangfangAbstract.txt)。

---

## 完结撒花

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=29719528&auto=0&height=66"></iframe>

终于弄完了，总共耗时5天，花费1$（订阅华尔街日本）+27￥（翻墙回国上人民网）。这几天真是要累死了，先要找到分析方向，然后搜集资料，整理数据，统计结果，然后再好好的呈现出来。感觉这个真的就好像提纯一样，一大堆东西塞进去，最后搞出来一两滴，还不知道好坏，也许时间就全浪费了。其实一开始我还把鲁迅胡适写的东西找了出来想对比一下，但是主题差异太大了。还好新闻语料分析的结果我非常满意，和我对这件事的感觉基本一致。

其实是想说点什么的，我很努力的想要保持客观的态度，但我觉得我的想法或多或少都会在上面的评价中展现出来。就在今天，我看到了好多新闻：“马前卒反华公知！”、“高福论文写完了吗？”“英国论文证明了美国才是发源地！”“外国人XXXX”……至于ins，twitter上的评论，看一次血压高一次……感觉整个世界的网络在疫情问题上都陷入了一种疯狂，人们的言论越来越极端，只有仇恨和敌对才能引起人们点开去看的兴趣，而媒体很乐意去迎合人们。至于科学、合作已经近乎绝迹。几个月前，网上还在歧视武汉人，几个月后就高呼“武汉万岁”，然后把枪口对准了外国人。中国和外国的网友们都在拼命试图证明对方才是疫情的发源地，然后默认了谁是发源地谁就要承担责任。找出发源地不是为了控制疫情，而是为了给其他人扣上帽子。如果几个月后因为境外输入国内二次爆发，到时候不知道又会出现什么样的魔幻情况。倒是我觉得政府没有失了智一样加入到鼓动民粹的行列而是继续派医疗队，送物资，重新统计湖北数据，让我觉得很不错。

其实说白了，我们想的太多了。“古之欲明明德於天下者，先治其国；欲治其国者先齐其家；欲齐其家者先修其身；欲修其身者,先正其心；欲正其心者,先诚其意；欲诚其意者；先致其知；致知在格物。物格而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平。”每个人都有治国平天下的雄心，却没有格物致知诚意正心的勇气。毕竟治国平天下只是动动嘴而已，格物致知可是真的要去做的。

再退一步，网络上每个人都在为自己坚信的正义发声，可这真的是你的正义吗？还是别人让你以为的正义？“天下熙熙，皆为利来；天下攘攘，皆为利往”，我们做得事情真的是为了正义吗？就算它实现了，真的和我们大多数有什么关系吗？朱潜龙为了皇帝梦，蓝青峰为了当英雄，李天然为了复仇，他们都为心中的“正义”利用他人，又都为了“正义”被他人利用。结尾里得到的人和失去的人，都没有活成自己的样子，都成了别人的棋子，“正义”不过是钓你上钩的鱼饵而已。有什么不同吗？

>陋室空堂，当年笏满床；衰草枯杨，曾为歌舞场。
蛛丝儿结满雕梁，绿纱今又糊在蓬窗上。说甚么脂正浓、粉正香，如何两鬓又成霜？
昨日黄土陇头送白骨，今宵红灯帐底卧鸳鸯。
金满箱，银满箱，展眼乞丐人皆谤。正叹他人命不长，那知自己归来丧！
训有方，保不定日后作强梁；择膏粱，谁承望流落在烟花巷！
因嫌纱帽小，致使锁枷扛；昨怜破袄寒，今嫌紫蟒长。
**乱烘烘，你方唱罢我登场，反认他乡是故乡；**
**甚荒唐，到头来都是为他人作嫁衣裳！**

总之一句话，我再看这种东西我就是sb！

<a href="https://imgur.com/KzPCfGw.png"><img src="https://i.imgur.com/KzPCfGw.png" title="正经人" /></a>